<h1 id=docker>Docker <a href=#docker class=direct-link>#</a></h1><h2 id=instalaci%C3%B3n>Instalación <a href=#instalaci%C3%B3n class=direct-link>#</a></h2><p>Lo mejor es seguir la <a href=https://docs.docker.com/engine/install/ubuntu/ >guia Oficial</a> para instalar siempre la última versión de docker.<h2 id=configuracion>Configuracion <a href=#configuracion class=direct-link>#</a></h2><p>Necesitarás iniciar el servicio de docker y añadir tu usuario al grupo de docker para poder ejecutar los comandos sin <code>sudo</code>:<pre class=language-bash><code class=language-bash><span class="token function">sudo</span> systemctl start <span class="token function">docker</span><br><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span><br><span class="token function">sudo</span> <span class="token function">usermod</span> -aG <span class="token function">docker</span> <span class="token constant environment">$USER</span></code></pre><h2 id=hello-world%3A>Hello World: <a href=#hello-world%3A class=direct-link>#</a></h2><p>Comprueba que todo funciona correctamente ejecutando el siguiente comando:<pre class=language-bash><code class=language-bash><span class="token function">docker</span> run hello-world</code></pre><blockquote><p>Si ves un mensaje de éxito, ya tienes docker instalado y funcionando correctamente.</blockquote><h2 id=%C2%BFqu%C3%A9-es-docker%3F>¿Qué es Docker? <a href=#%C2%BFqu%C3%A9-es-docker%3F class=direct-link>#</a></h2><p>Docker resuelve un problema recurrente en el desarrollo de software: la portabilidad. Cuando desarrollas una aplicación en tu ordenador y puedes arrancarla sin problemas es porque tienes todas las dependencias necesarias instaladas. Pero cuando intentas ejecutar esa misma aplicación en otro ordenador, puede que no funcione porque faltan librerías o dependencias.<p>Esto es un problema común, vuelve el desarrollo de software un proceso tedioso en el que muchas personas pasan horas intentando resolver problemas de compatibilidad manteniendo multiples entornos con diferentes versiones de librerías y dependencias. Además, si tienes que desplegar tu aplicación en un servidor, puede que no funcione porque el servidor tiene una versión diferente de una librería o una configuración diferente.<p>Docker resuelve este problema creando un contenedor que incluye todo lo necesario para ejecutar la aplicación: el código, las librerías, las dependencias y el sistema operativo. De esta forma, puedes ejecutar la misma aplicación en cualquier ordenador que tenga Docker instalado, sin preocuparte por las diferencias entre los entornos de ejecución.<p>Para entender mejor cómo funciona Docker, es importante conocer dos conceptos clave: imágenes y contenedores.<h3 id=im%C3%A1genes>Imágenes <a href=#im%C3%A1genes class=direct-link>#</a></h3><p>Una imagen es el resultado de empaquetar una aplicación y todas sus dependencias. A partir de esta imagen, Docker puede crear un contenedor. Las imágenes son inmutables, lo que significa que no puedes cambiar una imagen una vez que ha sido creada. Si necesitas hacer cambios en la aplicación, debes crear una nueva imagen.<p>La forma de crear una imagen es mediante un archivo llamado <code>Dockerfile</code>. Este archivo contiene una serie de instrucciones que Docker utiliza para construir la imagen. Por ejemplo, puedes especificar qué sistema operativo utilizar, qué librerías instalar y cómo ejecutar la aplicación.<p>Un ejemplo de un <code>Dockerfile</code> para una aplicación en NodeJS con Express podría ser el siguiente:<pre class=language-dockerfile><code class=language-dockerfile><span class="token comment"># Usa la imagen oficial de Node.js como base</span><br><span class="token instruction"><span class="token keyword">FROM</span> node:14</span><br><span class="token comment"># Establece el directorio de trabajo</span><br><span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/src/app</span><br><span class="token comment"># Copia el package.json y package-lock.json</span><br><span class="token instruction"><span class="token keyword">COPY</span> package*.json ./</span><br><span class="token comment"># Instala las dependencias</span><br><span class="token instruction"><span class="token keyword">RUN</span> npm install</span><br><span class="token comment"># Copia el resto del código de la aplicación</span><br><span class="token instruction"><span class="token keyword">COPY</span> . .</span><br><span class="token comment"># Expone el puerto 3000</span><br><span class="token instruction"><span class="token keyword">EXPOSE</span> 3000</span><br><span class="token comment"># Comando para ejecutar la aplicación</span><br><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">"node"</span>, <span class="token string">"app.js"</span>]</span></code></pre><p>Puedes crear una imagen a partir de un <code>Dockerfile</code> utilizando el siguiente comando:<pre class=language-bash><code class=language-bash><span class="token function">docker</span> build -t <span class="token operator">&lt;</span>nombre_imagen<span class="token operator">></span> <span class="token builtin class-name">.</span></code></pre><blockquote><p>El <code>.</code> al final del comando indica que el <code>Dockerfile</code> se encuentra en el directorio actual. Puedes especificar una ruta diferente.<br>El <code>-t</code> indica que quieres etiquetar la imagen con un nombre.</blockquote><p>Luego, puedes ver todas las imágenes que tienes en tu ordenador utilizando el siguiente comando:<pre class=language-bash><code class=language-bash><span class="token function">docker</span> images</code></pre><h3 id=%C2%BFqu%C3%A9-es-un-contenedor%3F>¿Qué es un contenedor? <a href=#%C2%BFqu%C3%A9-es-un-contenedor%3F class=direct-link>#</a></h3><p>Un contenedor es una <em>unidad de software que empaqueta codigo y dependencias</em> necesarias para ejecutar una aplicación. Un contenedor es un entorno aislado que incluye todo lo necesario para ejecutar la aplicación, incluyendo el sistema operativo, las librerías y las dependencias. Esto significa que puedes ejecutar la misma aplicación en cualquier ordenador que tenga Docker instalado, sin preocuparte por las diferencias entre los entornos de ejecución.<p>Puedes pensar en un contenedor como una pequeña máquina virtual a la que se le ha quitado todo hasta dejar lo necesario para ejecutar la aplicación. Esto hace que los contenedores sean mucho más ligeros y rápidos de arrancar que las máquinas virtuales, ya que no necesitan cargar un sistema operativo completo. Además, los contenedores son portables, lo que significa que puedes moverlos de un ordenador a otro sin problemas. Si tienes un contenedor que funciona en tu ordenador, también funcionará en el servidor, en la nube o en cualquier otro ordenador que tenga Docker instalado.<p>Puedes crear un contenedor a partir de una imagen utilizando el siguiente comando:<pre class=language-bash><code class=language-bash><span class="token function">docker</span> run -d -p <span class="token number">80</span>:3000 <span class="token operator">&lt;</span>nombre_imagen<span class="token operator">></span></code></pre><blockquote><p>El <code>-d</code> indica que quieres ejecutar el contenedor en segundo plano (detached mode).<br>El <code>-p</code> indica que quieres mapear el puerto 80 del host al puerto 3000 del contenedor. Esto significa que si accedes a <code>http://localhost</code>, estarás accediendo al puerto 3000 del contenedor.<br>El <code>&lt;nombre_imagen></code> es el nombre de la imagen que quieres ejecutar.<br>Si no especificas un nombre de imagen, Docker buscará una imagen llamada <code>latest</code> por defecto.<br>Puedes ver todos los contenedores que tienes en tu ordenador utilizando el siguiente comando:</blockquote><pre class=language-bash><code class=language-bash><span class="token function">docker</span> <span class="token function">ps</span></code></pre><blockquote><p>Si quieres ver todos los contenedores, incluyendo los que están parados, puedes utilizar el siguiente comando:</blockquote><pre class=language-bash><code class=language-bash><span class="token function">docker</span> <span class="token function">ps</span> -a</code></pre><blockquote><p>Si quieres parar un contenedor, puedes utilizar el siguiente comando:</blockquote><pre class=language-bash><code class=language-bash><span class="token function">docker</span> stop <span class="token operator">&lt;</span>nombre_contenedor<span class="token operator">></span></code></pre><blockquote><p>Si quieres eliminar un contenedor, puedes utilizar el siguiente comando:</blockquote><pre class=language-bash><code class=language-bash><span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>id_contenedor<span class="token operator">></span></code></pre>